<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>LEATHERFORLOCAL - Sản phẩm</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../../public/css/global.css">
    <link rel="stylesheet" href="../../public/css/style.css">
    <link rel="stylesheet" href="../../public/css/styleguide.css">
    <link rel="stylesheet" href="../../public/css/product.css">
    <script src="../../public/js/search-box.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
    <style>
      .material-symbols-outlined {
        font-variation-settings:
          'FILL' 0,
          'wght' 400,
          'GRAD' 0,
          'opsz' 24
      }
    </style>
  </head>
  <body>
    <div id="search-overlay">
      <div class="search-bar-area">
        <div class="search-bar-inner">
          <form class="search-bar-form" onsubmit="return false;">
            <span class="material-symbols-outlined">search</span>
            <input type="text" placeholder="Search" autofocus>
            <span id="close-search" class="material-symbols-outlined">close</span>
          </form>
          </div>
          </div>
      <div class="blur-bg"></div>
          </div>

    <div class="top-bar">Da thật - Phong cách thật</div>
    <header class="main-header">
          <div class="logo">
        <div class="logo-row">
          <a href="index.html" style="text-decoration:none; color:inherit;">
            <span>-LeatherForLocal-</span>
            <img src="https://pfst.cf2.poecdn.net/base/image/cbf0eb1018bc86141ca55e6c727c8acb4b84de0df8bff9b70b0f55a8779adf98?w=1024&h=768&pmaid=378107088" height="30px" width="50px" style="margin-left:12px;" />
          </a>
        </div>
        <small>Thời trang da cao cấp</small>
            </div>
      <nav>
        <a href="product.html" id="nav-all">Tất cả</a>
        <a href="product.html?category=new" id="nav-new">Sản phẩm mới</a>
        <a href="product.html?category=balo" id="nav-balo">Balo da</a>
        <a href="product.html?category=thoitrang" id="nav-thoitrang">Thời trang da</a>
        <a href="product.html?category=phukien" id="nav-phukien">Phụ kiện da</a>
      </nav>
      <div class="header-icons">
        <span class="material-symbols-outlined" id="search-icon">search</span>
        <span class="material-symbols-outlined">account_circle</span>
        <span class="material-symbols-outlined">bookmark</span>
        <span class="material-symbols-outlined">shopping_cart</span>
          </div>
        </header>

    <div class="breadcrumb">
      <a href="index.html">Trang chủ</a> &gt; <span id="breadcrumb-category">Tất cả sản phẩm</span>
    </div>

    <div class="product-container">
      <!-- Filter Section -->
      <div class="filter-section">
        <h2>Bộ lọc</h2>
        
        <div class="filter-group">
          <div class="filter-header">
            <span>Danh mục</span>
            <span class="material-symbols-outlined">expand_more</span>
          </div>
          <div class="filter-options">
            <label><input type="checkbox" name="category" value="all" checked> Tất cả</label>
            <label><input type="checkbox" name="category" value="balo"> Balo da</label>
            <label><input type="checkbox" name="category" value="thoitrang"> Thời trang da</label>
            <label><input type="checkbox" name="category" value="phukien"> Phụ kiện da</label>
          </div>
          </div>

        <div class="filter-group">
          <div class="filter-header">
            <span>Giá</span>
            <span class="material-symbols-outlined">expand_more</span>
          </div>
          <div class="filter-options">
            <label><input type="checkbox" name="price" value="0-200000"> Dưới 200.000đ</label>
            <label><input type="checkbox" name="price" value="200000-500000"> 200.000đ - 500.000đ</label>
            <label><input type="checkbox" name="price" value="500000-1000000"> 500.000đ - 1.000.000đ</label>
            <label><input type="checkbox" name="price" value="1000000+"> Trên 1.000.000đ</label>
          </div>
        </div>

        <div class="filter-group">
          <div class="filter-header">
            <span>Màu sắc</span>
            <span class="material-symbols-outlined">expand_more</span>
          </div>
          <div class="filter-options color-options">
            <label class="color-option" style="background-color: #000;"></label>
            <label class="color-option" style="background-color: #964B00;"></label>
            <label class="color-option" style="background-color: #A52A2A;"></label>
            <label class="color-option" style="background-color: #D2B48C;"></label>
            <label class="color-option" style="background-color: #808080;"></label>
          </div>
        </div>

        <div class="filter-group">
          <div class="filter-header">
            <span>Chất liệu</span>
            <span class="material-symbols-outlined">expand_more</span>
          </div>
          <div class="filter-options">
            <label><input type="checkbox" name="material" value="da-bo"> Da bò</label>
            <label><input type="checkbox" name="material" value="da-ca-sau"> Da cá sấu</label>
            <label><input type="checkbox" name="material" value="da-de"> Da dê</label>
            <label><input type="checkbox" name="material" value="da-tong-hop"> Da tổng hợp</label>
              </div>
            </div>

        <div class="filter-group">
          <div class="filter-header">
            <span>Thương hiệu</span>
            <span class="material-symbols-outlined">expand_more</span>
          </div>
          <div class="filter-options">
            <label><input type="checkbox" name="brand" value="leatherforlocal"> LeatherForLocal</label>
            <label><input type="checkbox" name="brand" value="gento"> Gento</label>
            <label><input type="checkbox" name="brand" value="karan"> Karan</label>
          </div>
                </div>

        <button class="apply-filter">Áp dụng</button>
              </div>

      <!-- Product Grid -->
      <div class="product-grid-section">
        <div class="product-grid-header">
          <h1 id="product-category-title">Tất cả sản phẩm</h1>
          <div class="product-sort">
            <span>Sắp xếp:</span>
            <select id="sort-options">
              <option value="newest">Mới nhất</option>
              <option value="price-asc">Giá tăng dần</option>
              <option value="price-desc">Giá giảm dần</option>
              <option value="bestseller">Bán chạy nhất</option>
            </select>
          </div>
        </div>

        <div class="product-grid" id="product-grid">
          <!-- Products will be dynamically loaded here -->
        </div>

        <div class="pagination">
          <a href="#" class="active">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <a href="#">4</a>
          <a href="#">&raquo;</a>
        </div>
                </div>
              </div>

    <footer>
      <div class="footer-top">
        <div class="footer-newsletter">
          <p>Tham gia cộng đồng để nhận ưu đãi khủng</p>
          <form>
            <input type="email" placeholder="Nhập số điện thoại hoặc email của bạn" required>
            <button>&rarr;</button>
          </form>
          <small>Bạn sẽ đồng ý cung cấp thông tin khi nhập email hoặc số điện thoại</small>
            </div>
        <div class="footer-links">
          <div>
            <h4>About leatherforlocal</h4>
            <ul>
              <li>Balo da</li>
              <li>Thời trang da</li>
              <li>Phụ kiện</li>
              <li>Liên hệ</li>
              <li>Địa chỉ: HCM</li>
              <li>Copyright Notice</li>
            </ul>
          </div>
          <div>
            <h4>Tư vấn và hỗ trợ</h4>
            <ul>
              <li>Cách đặt và mua hàng</li>
              <li>Đổi trả hàng</li>
              <li>Câu hỏi thường gặp</li>
            </ul>
                </div>
          <div>
            <h4>Tham gia cộng đồng</h4>
            <ul>
              <li>LFL group</li>
            </ul>
          </div>
        </div>
                </div>

      <div class="footer-bottom">
        <div class="footer-social">
          <span class="icon ig"><img src="https://img.freepik.com/premium-vector/black-square-social-media-logo_197792-3367.jpg?ga=GA1.1.858237879.1747484975&semt=ais_hybrid&w=740" alt="Instagram" width="22" height="22"></span>
          <span class="icon fb"><img src="https://img.freepik.com/premium-vector/facebook_628407-1653.jpg?ga=GA1.1.858237879.1747484975&semt=ais_hybrid&w=740" alt="Facebook" width="22" height="22"></span>
          <span class="icon yt"><img src="https://img.freepik.com/premium-vector/youtube-square-logo-vector-black-white_667864-109.jpg?ga=GA1.1.858237879.1747484975&semt=ais_hybrid&w=740" alt="YouTube" width="22" height="22"></span>
          <span class="icon tiktok"><img src="https://img.freepik.com/premium-photo/tiktok-application-logo-3d-rendering-white-background_41204-19938.jpg?ga=GA1.1.858237879.1747484975&semt=ais_hybrid&w=740" alt="TikTok" width="22" height="22"></span>
              </div>
        <div class="footer-copyright">
          <span>&copy; 2025 LEATHERFORLOCAL. All Rights Reserved.</span>
            </div>
          </div>
    </footer>

    <script>
      // Sample product data (in a real application, this would come from a database)
      const products = [
        {
          id: 'balo-da-lt223',
          name: 'Balo da LT223',
          category: 'balo',
          type: 'thoitrang',
          price: 230000,
          image: 'https://images.unsplash.com/photo-1622560481156-01fc7e1693e6?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bGVhdGhlciUyMGJhY2twYWNrfGVufDB8fDB8fHww',
          description: 'Balo da đơn giản',
          isNew: true,
          isBestseller: true
        },
        {
          id: 'ao-khoac-da-lt23',
          name: 'Áo khoác da LT23',
          category: 'thoitrang',
          type: 'biker',
          price: 499000,
          image: 'https://karan.vn/public/storage/editor/source/4306/ao-khoac-da-nam-lot-du-ca-tinh-akn271.jpg',
          description: 'Áo khoác da cá tính',
          isNew: false,
          isBestseller: true
        },
        {
          id: 'tui-deo-cheo-lt33',
          name: 'Túi đeo chéo LT33',
          category: 'phukien',
          type: 'tuideocheo',
          price: 220000,
          image: 'https://www.gento.vn/wp-content/uploads/2024/08/tui-bao-tu-nam-1-600x600.jpg',
          description: 'Túi đeo chéo',
          isNew: false,
          isBestseller: false
        },
        {
          id: 'balo-lt224',
          name: 'Balo LT224',
          category: 'balo',
          type: 'codien',
          price: 200000,
          image: 'https://www.gento.vn/wp-content/uploads/2023/08/balo-nam-da-bo-hang-hieu-Gento-B3525-600x600.jpg',
          description: 'Balo cổ điển',
          isNew: false,
          isBestseller: false
        },
        {
          id: 'balo-da-lt227',
          name: 'Balo da LT227',
          category: 'balo',
          type: 'that',
          price: 390000,
          image: 'https://product.hstatic.net/1000397717/product/o1cn019au8xo1umacueurfz___2759306023-0-cib_706a048f31084e47bc2b7db3b28d5c62_grande.jpeg',
          description: 'Balo da mới',
          isNew: true,
          isBestseller: false
        },
        {
          id: 'balo-da-lt228',
          name: 'Balo da LT228',
          category: 'balo',
          type: 'dulich',
          price: 330000,
          image: 'https://product.hstatic.net/1000397717/product/thumbnail_6f06d3aa97354138a2e17a04f62890cd_grande.jpg',
          description: 'Balo da mới',
          isNew: true,
          isBestseller: false
        },
        {
          id: 'balo-da-bo-c2',
          name: 'Balo da bò C2',
          category: 'balo',
          type: 'caocap',
          price: 330000,
          image: 'https://www.gento.vn/wp-content/uploads/2024/08/balo-da-bo-1.jpg',
          description: 'Balo da bò cao cấp',
          isNew: true,
          isBestseller: true
        },
        {
          id: 'balo-da-lt222',
          name: 'Balo da LT222',
          category: 'balo',
          type: 'thucong',
          price: 370000,
          image: 'https://www.gento.vn/wp-content/uploads/2022/06/Balo-nam-da-that-cao-cap-Gento-B3141-600x600.jpg',
          description: 'Balo da thủ công',
          isNew: false,
          isBestseller: false
        },
        {
          id: 'ao-da-bo-nam-racer',
          name: 'Áo Da Bò Nam Racer',
          category: 'thoitrang',
          type: 'biker',
          price: 250000,
          image: 'https://product.hstatic.net/200000366789/product/am2308__18_-1_4f4a3f07dee54931b308886675bc5678_large.jpg',
          description: 'Áo Da Bò Nam Racer',
          isNew: false,
          isBestseller: false
        },
        {
          id: 'ao-da-nam-biker-am22',
          name: 'Áo Da Nam Biker AM22',
          category: 'thoitrang',
          type: 'biker',
          price: 500000,
          image: 'https://product.hstatic.net/200000366789/product/erk08339-3_182735d27f5049cf9f9a282247bc24cc_large.jpg',
          description: 'Áo Da Nam Biker AM22',
          isNew: true,
          isBestseller: true
        },
        {
          id: 'tui-dung-chia-khoa',
          name: 'Túi đựng chìa khóa',
          category: 'phukien',
          type: 'hopchiakhoa',
          price: 150000,
          image: 'https://www.gento.vn/wp-content/uploads/2023/11/moc-chia-khoa-da-ca-sau2-600x600.jpg',
          description: 'Túi đựng chìa khóa',
          isNew: false,
          isBestseller: false
        },
        {
          id: 'day-da-dong-ho-a2',
          name: 'Dây da đồng hồ A2',
          category: 'phukien',
          type: 'daydongho',
          price: 100000,
          image: 'https://www.gento.vn/wp-content/uploads/2022/09/day-da-dong-ho-cao-cap1-600x600.jpg',
          description: 'Dây da đồng hồ A2',
          isNew: false,
          isBestseller: true
        }
      ];

      // Function to get URL parameters
      function getUrlParams() {
        const params = new URLSearchParams(window.location.search);
        return {
          category: params.get('category'),
          type: params.get('type'),
          filter: params.get('filter'),
          id: params.get('id')
        };
      }

      // Function to filter products based on URL parameters
      function filterProducts() {
        const params = getUrlParams();
        let filteredProducts = [...products];
        
        // Filter by specific product ID
        if (params.id) {
          filteredProducts = filteredProducts.filter(product => product.id === params.id);
          return filteredProducts;
        }
        
        // Filter by category
        if (params.category) {
          if (params.category === 'new') {
            filteredProducts = filteredProducts.filter(product => product.isNew);
          } else {
            filteredProducts = filteredProducts.filter(product => product.category === params.category);
          }
        }
        
        // Filter by type if category is specified
        if (params.type && params.category) {
          filteredProducts = filteredProducts.filter(product => product.type === params.type);
        }
        
        // Filter by special filters
        if (params.filter) {
          switch (params.filter) {
            case 'bestseller':
              filteredProducts = filteredProducts.filter(product => product.isBestseller);
              break;
            case 'new':
              filteredProducts = filteredProducts.filter(product => product.isNew);
              break;
            // Add more filter cases as needed
          }
        }
        
        return filteredProducts;
      }

      // Function to update the page title and breadcrumb based on filters
      function updatePageTitle() {
        const params = getUrlParams();
        let title = 'Tất cả sản phẩm';
        
        if (params.id) {
          const product = products.find(p => p.id === params.id);
          if (product) {
            title = product.name;
          }
        } else if (params.category) {
          switch (params.category) {
            case 'balo':
              title = 'Balo da';
              break;
            case 'thoitrang':
              title = 'Thời trang da';
              break;
            case 'phukien':
              title = 'Phụ kiện da';
              break;
            case 'new':
              title = 'Sản phẩm mới';
              break;
          }
          
          // Add type to title if specified
          if (params.type) {
            switch (params.type) {
              case 'that':
                title += ' - Da thật';
                break;
              case 'dulich':
                title += ' - Du lịch';
                break;
              case 'biker':
                title += ' - Biker';
                break;
              // Add more types as needed
            }
          }
        } else if (params.filter) {
          switch (params.filter) {
            case 'bestseller':
              title = 'Sản phẩm bán chạy';
              break;
            case 'new':
              title = 'Sản phẩm mới';
              break;
            // Add more filter cases as needed
          }
        }
        
        document.getElementById('product-category-title').textContent = title;
        document.getElementById('breadcrumb-category').textContent = title;
        document.title = `LEATHERFORLOCAL - ${title}`;
        
        // Highlight the active navigation link
        const navLinks = document.querySelectorAll('nav a');
        navLinks.forEach(link => link.classList.remove('active-link'));
        
        if (params.category) {
          const navLink = document.getElementById(`nav-${params.category}`);
          if (navLink) {
            navLink.classList.add('active-link');
          } else {
            document.getElementById('nav-all').classList.add('active-link');
          }
        } else {
          document.getElementById('nav-all').classList.add('active-link');
        }
      }

      // Function to render products
      function renderProducts(products) {
        const productGrid = document.getElementById('product-grid');
        productGrid.innerHTML = '';
        
        if (products.length === 0) {
          productGrid.innerHTML = '<div class="no-products">Không tìm thấy sản phẩm phù hợp</div>';
          return;
        }
        
        products.forEach(product => {
          const productCard = document.createElement('div');
          productCard.className = 'product-card';
          
          productCard.innerHTML = `
            <div class="product-image">
              <img src="${product.image}" alt="${product.name}">
              ${product.isNew ? '<span class="product-badge new">Mới</span>' : ''}
              ${product.isBestseller ? '<span class="product-badge bestseller">Bán chạy</span>' : ''}
              <div class="product-actions">
                <button class="action-btn"><span class="material-symbols-outlined">favorite</span></button>
                <button class="action-btn"><span class="material-symbols-outlined">shopping_cart</span></button>
                <button class="action-btn"><span class="material-symbols-outlined">visibility</span></button>
              </div>
            </div>
            <div class="product-info">
              <h3>${product.name}</h3>
              <p>${product.description}</p>
              <div class="product-price">${product.price.toLocaleString('vi-VN')} đ</div>
            </div>
          `;
          
          productGrid.appendChild(productCard);
        });
      }

      // Initialize the page
      document.addEventListener('DOMContentLoaded', function() {
        updatePageTitle();
        const filteredProducts = filterProducts();
        renderProducts(filteredProducts);
        
        // Add event listeners for filter toggles
        const filterHeaders = document.querySelectorAll('.filter-header');
        filterHeaders.forEach(header => {
          header.addEventListener('click', function() {
            const options = this.nextElementSibling;
            options.style.display = options.style.display === 'block' ? 'none' : 'block';
            const icon = this.querySelector('.material-symbols-outlined');
            icon.textContent = options.style.display === 'block' ? 'expand_less' : 'expand_more';
          });
        });
        
        // Initialize filter groups as closed
        document.querySelectorAll('.filter-options').forEach(options => {
          options.style.display = 'none';
        });
        
        // Add event listener for sort options
        document.getElementById('sort-options').addEventListener('change', function() {
          let sortedProducts = filterProducts();
          
          switch (this.value) {
            case 'newest':
              // No sorting needed, products are already sorted by newest
              break;
            case 'price-asc':
              sortedProducts.sort((a, b) => a.price - b.price);
              break;
            case 'price-desc':
              sortedProducts.sort((a, b) => b.price - a.price);
              break;
            case 'bestseller':
              sortedProducts.sort((a, b) => (b.isBestseller ? 1 : 0) - (a.isBestseller ? 1 : 0));
              break;
          }
          
          renderProducts(sortedProducts);
        });
      });
    </script>
  </body>
</html>