<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Áo Da Nam Biker AM22 - LEATHERFORLOCAL</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../../public/css/global.css">
    <link rel="stylesheet" href="../../public/css/style.css">
    <link rel="stylesheet" href="../../public/css/styleguide.css">
    <link rel="stylesheet" href="../../public/css/productOrder.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
  </head>
  <body>
    <div class="top-bar">Da thật - Phong cách thật</div>
    <header class="main-header">
      <div class="logo">
        <div class="logo-row">
          <a href="index.html" style="text-decoration:none; color:inherit;">
            <span>-LeatherForLocal-</span>
            <img src="https://pfst.cf2.poecdn.net/base/image/cbf0eb1018bc86141ca55e6c727c8acb4b84de0df8bff9b70b0f55a8779adf98?w=1024&h=768&pmaid=378107088" height="30px" width="50px" style="margin-left:12px;" />
          </a>
        </div>
        <small>Thời trang da cao cấp</small>
      </div>
      <nav>
        <a href="product.html" id="nav-all">Tất cả</a>
        <a href="product.html?category=new" id="nav-new">Sản phẩm mới</a>
        <a href="product.html?category=balo" id="nav-balo">Balo da</a>
        <a href="product.html?category=thoitrang" id="nav-thoitrang">Thời trang da</a>
        <a href="product.html?category=phukien" id="nav-phukien">Phụ kiện da</a>
      </nav>
      <div class="header-icons">
        <span class="material-symbols-outlined" id="search-icon">search</span>
        <span class="material-symbols-outlined" id="account-icon">account_circle</span>
        <div class="account-dropdown" id="account-dropdown">
          <a href="DangNhap.html">Đăng nhập</a>
          <a href="DangKi.html">Đăng ký</a>
        </div>
        <span class="material-symbols-outlined">bookmark</span>
        <div class="cart-icon-container">
          <span class="material-symbols-outlined" id="cart-icon">shopping_cart</span>
          <div class="shopping-bag-preview" id="shopping-bag-preview"></div>
        </div>
      </div>
    </header>

    <div class="breadcrumb">
      <a href="index.html">Trang chủ</a> &gt; 
      <a href="product.html?category=thoitrang">Thời trang da</a> &gt; 
      <span>Áo Da Nam Biker AM22</span>
    </div>

    <div class="product-detail-container">
      <div class="product-gallery">
        <div class="main-image">
          <img src="https://images.unsplash.com/photo-1675877879221-871aa9f7c314?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Áo Da Nam Biker AM22">
        </div>
        <div class="thumbnail-images">
          <img src="https://images.unsplash.com/photo-1675877879221-871aa9f7c314?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Thumbnail 1">
          <img src="https://images.unsplash.com/photo-1675877879221-871aa9f7c314?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Thumbnail 2">
          <img src="https://images.unsplash.com/photo-1675877879221-871aa9f7c314?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Thumbnail 3">
        </div>
      </div>

      <div class="product-info">
        <h1 class="product-title">Áo Da Nam Biker AM22</h1>
        <div class="product-price">500.000 đ</div>
        
        <div class="product-colors">
          <h3>Màu sắc</h3>
          <div class="color-options">
            <div class="color-option" style="background-color: #000;"></div>
            <div class="color-option" style="background-color: #964B00;"></div>
            <div class="color-option" style="background-color: #A52A2A;"></div>
          </div>
        </div>

        <div class="product-size">
          <h3>Kích thước</h3>
          <div class="size-options">
            <button class="size-option">S</button>
            <button class="size-option">M</button>
            <button class="size-option">L</button>
            <button class="size-option">XL</button>
          </div>
          <button class="size-guide-btn">
            <span class="material-symbols-outlined">ruler</span>
            Hướng dẫn chọn size
          </button>
        </div>

        <div class="product-actions">
          <button class="add-to-cart-btn">
            <span class="material-symbols-outlined">shopping_cart</span>
            Thêm vào giỏ hàng
          </button>
          <button class="add-to-wishlist-btn">
            <span class="material-symbols-outlined">favorite</span>
            Thêm vào yêu thích
          </button>
        </div>

        <div class="product-features">
          <div class="feature">
            <span class="material-symbols-outlined">local_shipping</span>
            Miễn phí vận chuyển cho đơn hàng từ 500.000đ
          </div>
          <div class="feature">
            <span class="material-symbols-outlined">return</span>
            Đổi trả miễn phí trong 30 ngày
          </div>
          <div class="feature">
            <span class="material-symbols-outlined">verified</span>
            Bảo hành 12 tháng
          </div>
        </div>

        <div class="product-description">
          <h3>Mô tả sản phẩm</h3>
          <p>Áo khoác da nam biker AM22 được thiết kế với phong cách biker đậm chất, mang đến vẻ nam tính và cá tính cho người mặc. Sản phẩm được làm từ da bò cao cấp, bền bỉ và sang trọng.</p>
          <ul>
            <li>Chất liệu: Da bò thật 100%</li>
            <li>Kiểu dáng: Biker jacket</li>
            <li>Màu sắc: Đen, Nâu, Đỏ</li>
            <li>Phù hợp: Mặc hàng ngày, dự tiệc, đi làm</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="related-products">
      <h2>Sản phẩm liên quan</h2>
      <div class="product-grid">
        <!-- Related products will be dynamically loaded here -->
      </div>
    </div>

    <footer>
      <div class="footer-top">
        <div class="footer-newsletter">
          <p>Tham gia cộng đồng để nhận ưu đãi khủng</p>
          <form>
            <input type="email" placeholder="Nhập số điện thoại hoặc email của bạn" required>
            <button>&rarr;</button>
          </form>
          <small>Bạn sẽ đồng ý cung cấp thông tin khi nhập email hoặc số điện thoại</small>
        </div>
        <div class="footer-links">
          <div>
            <h4>About leatherforlocal</h4>
            <ul>
              <li>Balo da</li>
              <li>Thời trang da</li>
              <li>Phụ kiện</li>
              <li>Liên hệ</li>
              <li>Địa chỉ: HCM</li>
              <li>Copyright Notice</li>
            </ul>
          </div>
          <div>
            <h4>Tư vấn và hỗ trợ</h4>
            <ul>
              <li>Cách đặt và mua hàng</li>
              <li>Đổi trả hàng</li>
              <li>Câu hỏi thường gặp</li>
            </ul>
          </div>
          <div>
            <h4>Tham gia cộng đồng</h4>
            <ul>
              <li>LFL group</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <div class="footer-social">
          <span class="icon ig"><img src="https://img.freepik.com/premium-vector/black-square-social-media-logo_197792-3367.jpg?ga=GA1.1.858237879.1747484975&semt=ais_hybrid&w=740" alt="Instagram" width="22" height="22"></span>
          <span class="icon fb"><img src="https://img.freepik.com/premium-vector/facebook_628407-1653.jpg?ga=GA1.1.858237879.1747484975&semt=ais_hybrid&w=740" alt="Facebook" width="22" height="22"></span>
          <span class="icon yt"><img src="https://img.freepik.com/premium-vector/youtube-square-logo-vector-black-white_667864-109.jpg?ga=GA1.1.858237879.1747484975&semt=ais_hybrid&w=740" alt="YouTube" width="22" height="22"></span>
          <span class="icon tiktok"><img src="https://img.freepik.com/premium-photo/tiktok-application-logo-3d-rendering-white-background_41204-19938.jpg?ga=GA1.1.858237879.1747484975&semt=ais_hybrid&w=740" alt="TikTok" width="22" height="22"></span>
        </div>
        <div class="footer-copyright">
          <span>&copy; 2025 LEATHERFORLOCAL. All Rights Reserved.</span>
        </div>
      </div>
    </footer>

    <style>
    .cart-icon-container { 
      position: relative; 
      display: inline-block; 
    }
    .shopping-bag-preview {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      width: 320px;
      background: #fff;
      border: 1px solid #e0e0e0;
      box-shadow: 0 4px 16px rgba(0,0,0,0.08);
      z-index: 100;
      padding: 16px;
      border-radius: 8px;
    }
    .preview-item { display: flex; align-items: center; margin-bottom: 12px; }
    .preview-item img { width: 48px; height: 48px; object-fit: cover; border-radius: 4px; margin-right: 12px; }
    .preview-info h4 { margin: 0 0 4px 0; font-size: 15px; }
    .view-cart-btn { display: block; margin-top: 10px; text-align: center; background: #927830; color: #fff; padding: 8px 0; border-radius: 4px; text-decoration: none; }
    .account-dropdown {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background: #fff;
      border: 1px solid #e0e0e0;
      box-shadow: 0 4px 16px rgba(0,0,0,0.08);
      z-index: 200;
      border-radius: 8px;
      min-width: 140px;
      padding: 8px 0;
    }
    .account-dropdown a {
      display: block;
      padding: 10px 20px;
      color: #222;
      text-decoration: none;
      font-size: 15px;
      transition: background 0.2s;
    }
    .account-dropdown a:hover {
      background: #f3f3f3;
    }
    #account-icon {
      cursor: pointer;
      position: relative;
    }
    .header-icons { position: relative; }
    </style>

    <script>
      // Get product data from the products array in product.html
      const products = [
        {
          id: 'ao-da-nam-biker-am22',
          name: 'Áo Da Nam Biker AM22',
          category: 'thoitrang',
          type: 'biker',
          price: 500000,
          image: 'https://images.unsplash.com/photo-1675877879221-871aa9f7c314?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D    ',
          description: 'Áo khoác da nam biker AM22 được thiết kế với phong cách biker đậm chất, mang đến vẻ nam tính và cá tính cho người mặc. Sản phẩm được làm từ da bò cao cấp, bền bỉ và sang trọng.',
          isNew: true,
          isBestseller: true,
          images: [
            'https://images.unsplash.com/photo-1675877879221-871aa9f7c314?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1588259166431-00a7e44b2712?q=80&w=2075&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1558079606-5e9d0640e6cf?q=80&w=1914&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'
          ]
        }
      ];

      // Function to get URL parameters
      function getUrlParams() {
        const params = new URLSearchParams(window.location.search);
        return {
          id: params.get('id')
        };
      }

      // Function to load product details
      function loadProductDetails() {
        const params = getUrlParams();
        const product = products.find(p => p.id === params.id);
        
        if (product) {
          // Update page title
          document.title = `${product.name} - LEATHERFORLOCAL`;
          
          // Update breadcrumb
          const breadcrumb = document.querySelector('.breadcrumb');
          breadcrumb.innerHTML = `
            <a href="index.html">Trang chủ</a> &gt; 
            <a href="product.html?category=${product.category}">${getCategoryName(product.category)}</a> &gt; 
            <span>${product.name}</span>
          `;
          
          // Update product details
          document.querySelector('.product-title').textContent = product.name;
          document.querySelector('.product-price').textContent = `${product.price.toLocaleString('vi-VN')} đ`;
          
          // Update main image
          const mainImage = document.querySelector('.main-image img');
          mainImage.src = product.images[0];
          mainImage.alt = product.name;
          
          // Update thumbnails
          const thumbnails = document.querySelectorAll('.thumbnail-images img');
          product.images.forEach((image, index) => {
            if (thumbnails[index]) {
              thumbnails[index].src = image;
              thumbnails[index].alt = `${product.name} - Hình ${index + 1}`;
            }
          });
          
          // Update product description
          document.querySelector('.product-description p').textContent = product.description;
          
          // Add product features
          const features = document.querySelector('.product-description ul');
          features.innerHTML = `
            <li>Chất liệu: Da bò thật 100%</li>
            <li>Kiểu dáng: Biker jacket</li>
            <li>Màu sắc: Đen, Nâu, Đỏ</li>
            <li>Phù hợp: Mặc hàng ngày, dự tiệc, đi làm</li>
          `;
        } else {
          // Handle product not found
          window.location.href = 'product.html';
        }
      }

      // Helper function to get category name
      function getCategoryName(category) {
        switch (category) {
          case 'balo':
            return 'Balo da';
          case 'thoitrang':
            return 'Thời trang da';
          case 'phukien':
            return 'Phụ kiện da';
          default:
            return 'Tất cả sản phẩm';
        }
      }

      // Add to cart functionality
      document.querySelector('.add-to-cart-btn').addEventListener('click', function() {
        const params = getUrlParams();
        const product = products.find(p => p.id === params.id);
        
        if (product) {
          // Get existing cart items from localStorage
          let cart = JSON.parse(localStorage.getItem('cart')) || [];
          
          // Check if product already exists in cart
          const existingItem = cart.find(item => item.id === product.id);
          
          if (existingItem) {
            existingItem.quantity += 1;
          } else {
            cart.push({
              id: product.id,
              name: product.name,
              price: product.price,
              image: product.image,
              quantity: 1
            });
          }
          
          // Save updated cart to localStorage
          localStorage.setItem('cart', JSON.stringify(cart));
          
          // Show success message
          alert(`Đã thêm ${product.name} vào giỏ hàng!`);
        }
      });

      // Add to wishlist functionality
      document.querySelector('.add-to-wishlist-btn').addEventListener('click', function() {
        const params = getUrlParams();
        const product = products.find(p => p.id === params.id);
        
        if (product) {
          // Get existing wishlist items from localStorage
          let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
          
          // Check if product already exists in wishlist
          const existingItem = wishlist.find(item => item.id === product.id);
          
          if (!existingItem) {
            wishlist.push({
              id: product.id,
              name: product.name,
              price: product.price,
              image: product.image
            });
            
            // Save updated wishlist to localStorage
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
            
            // Show success message
            alert(`Đã thêm ${product.name} vào yêu thích!`);
          } else {
            alert('Sản phẩm đã có trong danh sách yêu thích!');
          }
        }
      });

      // Size selection
      const sizeOptions = document.querySelectorAll('.size-option');
      sizeOptions.forEach(option => {
        option.addEventListener('click', function() {
          sizeOptions.forEach(opt => opt.classList.remove('selected'));
          this.classList.add('selected');
        });
      });

      // Color selection
      const colorOptions = document.querySelectorAll('.color-option');
      colorOptions.forEach(option => {
        option.addEventListener('click', function() {
          colorOptions.forEach(opt => opt.classList.remove('selected'));
          this.classList.add('selected');
        });
      });

      // Image gallery
      const thumbnails = document.querySelectorAll('.thumbnail-images img');
      const mainImage = document.querySelector('.main-image img');
      
      thumbnails.forEach(thumb => {
        thumb.addEventListener('click', function() {
          mainImage.src = this.src;
          thumbnails.forEach(t => t.classList.remove('active'));
          this.classList.add('active');
        });
      });

      // Load product details when page loads
      document.addEventListener('DOMContentLoaded', loadProductDetails);

      // Update the shopping bag preview functionality
      document.addEventListener('DOMContentLoaded', function() {
        const cartIcon = document.getElementById('cart-icon');
        const shoppingBagPreview = document.getElementById('shopping-bag-preview');
        let hideTimeout;

        function renderShoppingBagPreview() {
          const cart = JSON.parse(localStorage.getItem('cart')) || [];
          // Only show Áo Da Nam Biker AM22
          const filtered = cart.filter(item => item.id === 'ao-da-nam-biker-am22');
          if (filtered.length === 0) {
            shoppingBagPreview.innerHTML = '<div class="empty-cart">Giỏ hàng của bạn đang trống.</div>';
            return;
          }
          shoppingBagPreview.innerHTML = filtered.map(item => `
            <div class="preview-item">
              <img src="${item.image}" alt="${item.name}">
              <div class="preview-info">
                <h4>${item.name}</h4>
                <p>${item.price.toLocaleString('vi-VN')} đ</p>
                <p>Số lượng: ${item.quantity}</p>
              </div>
            </div>
          `).join('') + `<a href="cart.html" class="view-cart-btn">Xem giỏ hàng</a>`;
        }

        cartIcon.addEventListener('mouseenter', function() {
          clearTimeout(hideTimeout);
          renderShoppingBagPreview();
          shoppingBagPreview.style.display = 'block';
        });

        cartIcon.addEventListener('mouseleave', function() {
          hideTimeout = setTimeout(() => {
            shoppingBagPreview.style.display = 'none';
          }, 500); // Increased delay to 500ms
        });

        shoppingBagPreview.addEventListener('mouseenter', function() {
          clearTimeout(hideTimeout);
          shoppingBagPreview.style.display = 'block';
        });

        shoppingBagPreview.addEventListener('mouseleave', function() {
          hideTimeout = setTimeout(() => {
            shoppingBagPreview.style.display = 'none';
          }, 500); // Increased delay to 500ms
        });
      });

      document.addEventListener('DOMContentLoaded', function() {
        const accountIcon = document.getElementById('account-icon');
        const accountDropdown = document.getElementById('account-dropdown');
        accountIcon.addEventListener('click', function(e) {
          e.stopPropagation();
          accountDropdown.style.display = accountDropdown.style.display === 'block' ? 'none' : 'block';
        });
        document.addEventListener('click', function() {
          accountDropdown.style.display = 'none';
        });
        accountDropdown.addEventListener('click', function(e) {
          e.stopPropagation();
        });
      });
    </script>
  </body>
</html>